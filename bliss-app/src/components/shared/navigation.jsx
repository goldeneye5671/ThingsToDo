import { NavLink } from "react-router-dom";
import { useSelector } from "react-redux";
import { useEffect } from "react";

function NavBar() {
  const sessionState = useSelector((state) => state.session.user);

  return (
    <nav>
      <NavLink
        className={({ isActive, isPending }) =>
          isPending ? "pending" : isActive ? "active" : ""
        }
        to={"/"}
      >
        <svg
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          width="23.6719"
          height="22.1631"
        >
          <g>
            <rect height="22.1631" opacity="0" width="23.6719" x="0" y="0" />
            <path
              d="M14.1699 18.938L9.13086 18.938L9.13086 12.4829C9.13086 12.0337 9.43359 11.7407 9.88281 11.7407L13.4277 11.7407C13.877 11.7407 14.1699 12.0337 14.1699 12.4829ZM3.04688 18.3521C3.04688 19.7095 3.86719 20.5103 5.24414 20.5103L18.0859 20.5103C19.4629 20.5103 20.2734 19.7095 20.2734 18.3521L20.2734 10.6177L12.2461 3.88916C11.875 3.57666 11.4355 3.58643 11.0742 3.88916L3.04688 10.6177ZM0 9.64111C0 10.0415 0.3125 10.4224 0.839844 10.4224C1.11328 10.4224 1.33789 10.2759 1.54297 10.1099L11.3184 1.90674C11.5332 1.71143 11.7969 1.71143 12.0117 1.90674L21.7871 10.1099C21.9824 10.2759 22.207 10.4224 22.4805 10.4224C22.9395 10.4224 23.3105 10.1392 23.3105 9.67041C23.3105 9.37744 23.2129 9.18213 23.0078 9.00635L12.8418 0.461426C12.1191-0.153809 11.2207-0.153809 10.4883 0.461426L0.3125 9.00635C0.0976562 9.18213 0 9.4165 0 9.64111ZM17.8223 5.23682L20.2734 7.30713L20.2734 2.79541C20.2734 2.36572 20 2.09229 19.5703 2.09229L18.5254 2.09229C18.1055 2.09229 17.8223 2.36572 17.8223 2.79541Z"
              fill="#000000"
            />
          </g>
        </svg>
        {/* Home */}
      </NavLink>
      <br></br>
      <NavLink
        className={({ isActive, isPending }) =>
          isPending ? "pending" : isActive ? "active" : ""
        }
        to={"/bliss"}
      >
        <svg
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          width="23.3887"
          height="17.9785"
        >
          <g>
            <rect height="17.9785" opacity="0" width="23.3887" x="0" y="0" />
            <path
              d="M22.0215 14.4336L16.2207 8.98438C15.791 8.58398 15.2734 8.37891 14.7461 8.37891C14.209 8.37891 13.7305 8.56445 13.2812 8.96484L8.86719 12.9102L7.06055 11.2793C6.65039 10.9082 6.20117 10.7227 5.74219 10.7227C5.30273 10.7227 4.88281 10.8984 4.48242 11.2695L0.761719 14.6289C0.820312 16.3965 1.54297 17.2949 2.99805 17.2949L19.3652 17.2949C21.1328 17.2949 22.0215 16.3086 22.0215 14.4336ZM3.06641 17.9785L19.9609 17.9785C22.0117 17.9785 23.0273 16.9727 23.0273 14.9609L23.0273 3.02734C23.0273 1.01562 22.0117 0 19.9609 0L3.06641 0C1.02539 0 0 1.01562 0 3.02734L0 14.9609C0 16.9727 1.02539 17.9785 3.06641 17.9785ZM3.08594 16.4062C2.10938 16.4062 1.57227 15.8887 1.57227 14.873L1.57227 3.11523C1.57227 2.09961 2.10938 1.57227 3.08594 1.57227L19.9414 1.57227C20.9082 1.57227 21.4551 2.09961 21.4551 3.11523L21.4551 14.873C21.4551 15.8887 20.9082 16.4062 19.9414 16.4062Z"
              fill="#000000"
            />
            <path
              d="M7.27539 9.08203C8.53516 9.08203 9.57031 8.04688 9.57031 6.77734C9.57031 5.51758 8.53516 4.47266 7.27539 4.47266C6.00586 4.47266 4.9707 5.51758 4.9707 6.77734C4.9707 8.04688 6.00586 9.08203 7.27539 9.08203Z"
              fill="#000000"
            />
          </g>
        </svg>
        {/* Bliss */}
      </NavLink>
      <br></br>
      <NavLink
        className={({ isActive, isPending }) =>
          isPending ? "pending" : isActive ? "active" : ""
        }
        to={"/lists"}
      >
        <svg
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          width="23.3887"
          height="17.9785"
        >
          <g>
            <rect height="17.9785" opacity="0" width="23.3887" x="0" y="0" />
            <path
              d="M3.06641 17.9785L19.9609 17.9785C22.0117 17.9785 23.0273 16.9727 23.0273 14.9609L23.0273 3.02734C23.0273 1.01562 22.0117 0 19.9609 0L3.06641 0C1.02539 0 0 1.01562 0 3.02734L0 14.9609C0 16.9727 1.02539 17.9785 3.06641 17.9785ZM3.08594 16.4062C2.10938 16.4062 1.57227 15.8887 1.57227 14.873L1.57227 3.11523C1.57227 2.09961 2.10938 1.57227 3.08594 1.57227L19.9414 1.57227C20.9082 1.57227 21.4551 2.09961 21.4551 3.11523L21.4551 14.873C21.4551 15.8887 20.9082 16.4062 19.9414 16.4062Z"
              fill="#000000"
            />
            <path
              d="M4.88281 5.56641L6.06445 5.56641C6.47461 5.56641 6.81641 5.22461 6.81641 4.81445C6.81641 4.4043 6.46484 4.0625 6.06445 4.0625L4.88281 4.0625C4.46289 4.0625 4.14062 4.4043 4.14062 4.81445C4.14062 5.22461 4.47266 5.56641 4.88281 5.56641ZM4.88281 8.81836L6.06445 8.81836C6.46484 8.81836 6.81641 8.48633 6.81641 8.07617C6.81641 7.66602 6.47461 7.33398 6.06445 7.33398L4.88281 7.33398C4.46289 7.33398 4.14062 7.66602 4.14062 8.07617C4.14062 8.48633 4.46289 8.81836 4.88281 8.81836ZM8.79883 5.42969L18.2715 5.42969C18.6133 5.42969 18.877 5.15625 18.877 4.81445C18.877 4.47266 18.6133 4.20898 18.2715 4.20898L8.79883 4.20898C8.45703 4.20898 8.19336 4.47266 8.19336 4.81445C8.19336 5.15625 8.45703 5.42969 8.79883 5.42969ZM8.79883 8.69141L18.2715 8.69141C18.6133 8.69141 18.877 8.42773 18.877 8.07617C18.877 7.73438 18.6133 7.46094 18.2715 7.46094L8.79883 7.46094C8.4668 7.46094 8.19336 7.72461 8.19336 8.07617C8.19336 8.41797 8.45703 8.69141 8.79883 8.69141Z"
              fill="#000000"
            />
          </g>
        </svg>
        {/* Lists */}
      </NavLink>
      <br></br>
      <NavLink
        className={({ isActive, isPending }) =>
          isPending ? "pending" : isActive ? "active" : ""
        }
        to={"/businesses"}
      >
        <svg
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          width="23.3301"
          height="20.8301"
        >
          <g>
            <rect height="20.8301" opacity="0" width="23.3301" x="0" y="0" />
            <path
              d="M22.9688 6.5918L22.9688 19.0527C22.9688 20.1367 22.3438 20.8301 21.3574 20.8301L13.9355 20.8301C14.8581 20.8301 15.4646 20.2235 15.5389 19.2578L20.8398 19.2578C21.2207 19.2578 21.3965 19.0723 21.3965 18.6914L21.3965 6.95312C21.3965 6.57227 21.2207 6.38672 20.8398 6.38672L15.5469 6.38672L15.5469 4.81445L21.3574 4.81445C22.3438 4.81445 22.9688 5.50781 22.9688 6.5918ZM19.5898 15.791L19.5898 17.3145C19.5898 17.5098 19.4531 17.6465 19.2578 17.6465L17.6855 17.6465C17.4805 17.6465 17.3633 17.5098 17.3633 17.3145L17.3633 15.791C17.3633 15.5957 17.4805 15.459 17.6855 15.459L19.2578 15.459C19.4531 15.459 19.5898 15.5957 19.5898 15.791ZM19.5898 12.0605L19.5898 13.584C19.5898 13.7793 19.4531 13.916 19.2578 13.916L17.6855 13.916C17.4805 13.916 17.3633 13.7793 17.3633 13.584L17.3633 12.0605C17.3633 11.8652 17.4805 11.7285 17.6855 11.7285L19.2578 11.7285C19.4531 11.7285 19.5898 11.8652 19.5898 12.0605ZM19.5898 8.33008L19.5898 9.85352C19.5898 10.0488 19.4531 10.1855 19.2578 10.1855L17.6855 10.1855C17.4805 10.1855 17.3633 10.0488 17.3633 9.85352L17.3633 8.33008C17.3633 8.13477 17.4805 7.99805 17.6855 7.99805L19.2578 7.99805C19.4531 7.99805 19.5898 8.13477 19.5898 8.33008Z"
              fill="#000000"
            />
            <path
              d="M0 19.0527C0 20.1367 0.625 20.8301 1.62109 20.8301L13.9355 20.8301C14.9219 20.8301 15.5469 20.1367 15.5469 19.0527L15.5469 1.78711C15.5469 0.703125 14.9219 0.00976562 13.9355 0.00976562L1.62109 0.00976562C0.625 0.00976562 0 0.703125 0 1.78711ZM1.57227 18.6914L1.57227 2.14844C1.57227 1.75781 1.74805 1.58203 2.13867 1.58203L13.418 1.58203C13.7988 1.58203 13.9746 1.75781 13.9746 2.14844L13.9746 18.6914C13.9746 19.0723 13.7988 19.2578 13.418 19.2578L2.13867 19.2578C1.74805 19.2578 1.57227 19.0723 1.57227 18.6914ZM4.375 20L5.6543 20L5.6543 16.7383C5.6543 16.5332 5.76172 16.4258 5.9668 16.4258L9.58008 16.4258C9.79492 16.4258 9.89258 16.5332 9.89258 16.7383L9.89258 20L11.1719 20L11.1719 16.377C11.1719 15.5371 10.8008 15.1465 10 15.1465L5.54688 15.1465C4.74609 15.1465 4.375 15.5371 4.375 16.377ZM4.53125 5.84961L6.43555 5.84961C6.66992 5.84961 6.83594 5.69336 6.83594 5.44922L6.83594 3.60352C6.83594 3.36914 6.66992 3.20312 6.43555 3.20312L4.53125 3.20312C4.29688 3.20312 4.15039 3.36914 4.15039 3.60352L4.15039 5.44922C4.15039 5.69336 4.29688 5.84961 4.53125 5.84961ZM9.11133 5.84961L11.0059 5.84961C11.2402 5.84961 11.4062 5.69336 11.4062 5.44922L11.4062 3.60352C11.4062 3.36914 11.2402 3.20312 11.0059 3.20312L9.11133 3.20312C8.86719 3.20312 8.7207 3.36914 8.7207 3.60352L8.7207 5.44922C8.7207 5.69336 8.86719 5.84961 9.11133 5.84961ZM4.53125 9.7168L6.43555 9.7168C6.66992 9.7168 6.83594 9.56055 6.83594 9.31641L6.83594 7.4707C6.83594 7.23633 6.66992 7.07031 6.43555 7.07031L4.53125 7.07031C4.29688 7.07031 4.15039 7.23633 4.15039 7.4707L4.15039 9.31641C4.15039 9.56055 4.29688 9.7168 4.53125 9.7168ZM9.11133 9.7168L11.0059 9.7168C11.2402 9.7168 11.4062 9.56055 11.4062 9.31641L11.4062 7.4707C11.4062 7.23633 11.2402 7.07031 11.0059 7.07031L9.11133 7.07031C8.86719 7.07031 8.7207 7.23633 8.7207 7.4707L8.7207 9.31641C8.7207 9.56055 8.86719 9.7168 9.11133 9.7168ZM4.53125 13.584L6.43555 13.584C6.66992 13.584 6.83594 13.418 6.83594 13.1836L6.83594 11.3379C6.83594 11.0938 6.66992 10.9375 6.43555 10.9375L4.53125 10.9375C4.29688 10.9375 4.15039 11.0938 4.15039 11.3379L4.15039 13.1836C4.15039 13.418 4.29688 13.584 4.53125 13.584ZM9.11133 13.584L11.0059 13.584C11.2402 13.584 11.4062 13.418 11.4062 13.1836L11.4062 11.3379C11.4062 11.0938 11.2402 10.9375 11.0059 10.9375L9.11133 10.9375C8.86719 10.9375 8.7207 11.0938 8.7207 11.3379L8.7207 13.1836C8.7207 13.418 8.86719 13.584 9.11133 13.584Z"
              fill="#000000"
            />
          </g>
        </svg>
        {/* Businesses */}
      </NavLink>
      <br></br>

      {sessionState?.user ? (
        <NavLink
          className={({ isActive, isPending }) =>
            isPending ? "pending" : isActive ? "active" : ""
          }
          to={`/users/${sessionState?.user?.id}`}
        >
          {sessionState?.user?.username}
        </NavLink>
      ) : (
        <>
          <NavLink
            className={({ isActive, isPending }) =>
              isPending ? "pending" : isActive ? "active" : ""
            }
            to={"/sign-in"}
          >
            Sign In
          </NavLink>
          <br></br>
          <NavLink
            className={({ isActive, isPending }) =>
              isPending ? "pending" : isActive ? "active" : ""
            }
            to={"/sign-up"}
          >
            Sign Up
          </NavLink>
          <br></br>
        </>
      )}
    </nav>
  );
}

export default NavBar;
